import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.WFquGv8Z.js";/* empty css                       */function y(){const[o,m]=r.useState([]),[i,n]=r.useState([]),[u,d]=r.useState(!0),[c,h]=r.useState(""),[l,g]=r.useState("All"),f=["All",...new Set(o.map(e=>e.category))];r.useEffect(()=>{fetch("/api/products").then(e=>e.json()).then(e=>{m(e),n(e),d(!1)}).catch(e=>{console.error("Failed to fetch products",e),d(!1)})},[]),r.useEffect(()=>{let e=o;if(l!=="All"&&(e=e.filter(t=>t.category===l)),c){const t=c.toLowerCase();e=e.filter(a=>a.name.toLowerCase().includes(t)||a.category.toLowerCase().includes(t))}n(e)},[c,l,o]);const v=(e,t)=>{t.preventDefault();const a=JSON.parse(localStorage.getItem("lovedProducts")||"[]");if(a.includes(e)){const p=a.filter(x=>x!==e);localStorage.setItem("lovedProducts",JSON.stringify(p))}else a.push(e),localStorage.setItem("lovedProducts",JSON.stringify(a));alert(`Product ${e} updated in favorites!`)};return u?s.jsx("div",{className:"loading-state",children:"Loading products..."}):s.jsxs("div",{className:"product-list-container",children:[s.jsxs("div",{className:"list-controls",children:[s.jsx("div",{className:"category-filters",children:f.map(e=>s.jsx("button",{onClick:()=>g(e),className:`filter-btn ${l===e?"active":""}`,children:e},e))}),s.jsx("input",{type:"text",placeholder:"Search products...",className:"search-input",value:c,onChange:e=>h(e.target.value)})]}),s.jsx("div",{className:"product-grid",children:i.map(e=>s.jsxs("div",{className:"product-card",children:[s.jsx("a",{href:`/products/${e.id}`,className:"card-image-link",children:e.images[0]?s.jsx("img",{src:e.images[0],alt:e.name,className:"card-image"}):s.jsx("div",{className:"no-image",children:"No Image"})}),s.jsxs("div",{className:"card-content",children:[s.jsxs("div",{className:"card-header",children:[s.jsx("h3",{className:"card-title",children:s.jsx("a",{href:`/products/${e.id}`,children:e.name})}),s.jsxs("span",{className:"card-price",children:["$",e.price]})]}),s.jsx("p",{className:"card-category",children:e.category}),s.jsx("button",{onClick:t=>v(e.id,t),className:"btn-love",children:"Add to Loved"})]})]},e.id))}),i.length===0&&s.jsx("div",{className:"empty-state",children:"No products found."})]})}export{y as default};

---
import Layout from "../layouts/Layout.astro";
import ProductList from "../components/ProductList";
---

<Layout title="" mainClass="home-main">
	<!-- Hero Section -->
	<section class="hero">
		<video autoplay muted loop playsinline class="hero-video">
			<source src="/Đồ Gỗ Thờ Cúng US.webm" type="video/webm" />
		</video>
		<div class="container hero-content">
			<h1>Exquisite Furniture & <br />Timeless Decor</h1>
			<p>
				Discover our collection of handcrafted wood furniture, premium
				ceramics, and copper masterpieces.
			</p>
			<a href="#shop" class="btn btn-primary">Shop Collection</a>
		</div>
	</section>

	<!-- Shop Section -->
	<section id="shop" class="section">
		<div class="container">
			<h2 class="section-title">Our Collections</h2>
			<ProductList client:load />
		</div>
	</section>

	<!-- About Simplified -->
	<section id="about" class="section bg-light">
		<div class="container">
			<div class="about-grid">
				<div class="about-text">
					<h2 class="section-title">About DiepMai</h2>
					<p>
						We bring you the finest selection of traditional
						craftsmanship and modern design. From the sturdy
						elegance of our wooden furniture to the delicate beauty
						of our ceramics.
					</p>
				</div>
				<!-- Image placeholder would go here -->
			</div>
		</div>
	</section>
</Layout>

<style>
	:global(.home-main) {
		margin-top: 0 !important;
	}

	.hero {
		position: relative;
		height: 100vh;
		min-height: 600px;
		display: flex;
		align-items: center;
		color: var(--color-surface);
		overflow: hidden;
	}

	.hero::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0, 0, 0, 0.4);
		z-index: 1;
	}

	.hero-video {
		position: absolute;
		top: 50%;
		left: 50%;
		min-width: 100%;
		min-height: 100%;
		width: auto;
		height: auto;
		z-index: 0;
		transform: translate(-50%, -50%);
		object-fit: cover;
	}

	.hero-content {
		position: relative;
		z-index: 2;
		max-width: 600px;
	}

	.hero h1 {
		font-size: clamp(2.5rem, 5vw, 4rem);
		margin-bottom: var(--spacing-sm);
		color: var(--color-surface);
	}

	.hero p {
		font-size: 1.25rem;
		margin-bottom: var(--spacing-lg);
		opacity: 0.9;
	}

	.btn {
		display: inline-block;
		padding: var(--spacing-sm) var(--spacing-lg);
		border-radius: var(--radius-sm);
		font-weight: 500;
		transition: all var(--transition-normal);
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	.btn-primary {
		background-color: var(--color-primary);
		color: var(--color-surface);
	}

	.btn-primary:hover {
		background-color: var(--color-primary-dark);
		transform: translateY(-2px);
	}

	.section-title {
		text-align: center;
		margin-bottom: var(--spacing-xl);
		font-size: 2.5rem;
	}

	.bg-light {
		background-color: #f3f4f6;
	}

	/* Product card manual styles to match vanilla CSS requests inside React? 
       Note: The generic classes in ProductList.tsx (like 'grid', 'mb-8') suggest Tailwind, 
       but I am using Vanilla CSS mostly. I used some utility class names there out of habit.
       I need to make sure they work. I didn't verify if Tailwind was added. 
       Wait, I did NOT add Tailwind in initialization.
       So the 'grid grid-cols-1' classes in ProductList.tsx WON'T WORK.
       
       CRITICAL: I must Fix ProductList.tsx styles in a separate style block or css file, 
       OR update global.css to include these utilities,
       OR rewrite ProductList.tsx to use module styles.
       
       I will rewrite ProductList.tsx using standard CSS classes or styled-components equivalent in CSS.
       Actually, I will Add the necessary utility classes to global.css or update ProductList.
       
       Better: Rewrite ProductList.tsx to use standard semantic class names and define them in a css file 
       OR use inline styles 
       OR (best) scoped CSS modules.
       
       Since I am in 'write_to_file' mode for index.astro, I can add global styles here, 
       but ProductList is isolated.
       I will rely on a new update to ProductList.tsx in next step to fix the CSS class usage.
    */
</style>

<script>
	// Slow down hero video playback speed
	const heroVideo = document.querySelector(".hero-video") as HTMLVideoElement;
	if (heroVideo) {
		heroVideo.playbackRate = 0.5; // Slow down for a premium feel
	}
</script>
